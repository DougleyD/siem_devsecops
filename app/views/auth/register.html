{% extends "auth/base.html" %}

{% block form_type %}form-register{% endblock %}

{% block description %}
<div class="redirect-link">
    <p>Já possui conta? <a href="{{ url_for('auth.login')}}">Entrar</a></p>
</div>    
{% endblock %}

{% block form %}
<div class="form-input">
    <form method="POST" action="{{ url_for('auth.register')}}">
        <div class="input-field-data">
            <i class="fa-solid fa-user"></i>
            <input type="text" name="username" id="username" placeholder="Nome completo" value="{{ request.form.username if request.form else '' }}" required/>
        </div>
        <div class="input-field-data">
            <i class="fa-solid fa-envelope"></i>
            <input type="text" name="email" id="email" placeholder="E-mail" value="{{ request.form.email if request.form else '' }}" required/>
        </div>
        <div class="input-field-data">
            <i class="fa-solid fa-key"></i>
            <input type="password" name="password1" id="password1" placeholder="Senha" value="{{ request.form.password1 if request.form else '' }}" required/>
        </div>
        <div class="input-field-data">
            <i class="fa-solid fa-key"></i>
            <input type="password" name="password2" id="password2" placeholder="Confirmar senha" value="{{ request.form.password2 if request.form else '' }}" required/>
        </div>
        <div class="input-field-code">
            <i class="fa-solid fa-check"></i>
            <input type="text" name="code" id="code" placeholder="# Código"/>
            <button type="submit" name="send_code" value="true">ENVIAR CÓDIGO</button>
        </div>
        
        <button class="bttn-register-data" type="submit" name="register">CADASTRAR</button>

        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                <span class="alert-message {{ category }}">{{ message }}</span>
                {% endfor %}
            {% endif %}
        {% endwith %}
    </form>
</div>
{% endblock %}