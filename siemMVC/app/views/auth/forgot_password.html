{% extends "auth/base.html" %}

{% block form_type %}form-forgot{% endblock %}

{% block description %}
<div class="info-user">
    <strong><p>Recuperação de Senha</p></strong>
    <p>Informe seu e-mail para validarmos sua conta:</p>    
</div>
{% endblock %}

{% block form %}
<div class="form-input">
    <form method="POST" action="{{ url_for('auth.forgot_password')}}">
        <div class="input-field-data">
            <i class="fa-solid fa-envelope"></i>
            <input type="text" name="email" id="email" placeholder="E-mail" value="{{ request.form.email if request.form else '' }}" required/>
        </div>
        <div class="input-field-code">
            <i class="fa-solid fa-check"></i>
            <input type="text" name="code" id="code" placeholder="# Código"/>
            <button type="submit" name="send_code" value="true">ENVIAR CÓDIGO</button>
        </div>
        
        <button class="bttn-forgot-data" type="submit" name="forgot_password">VALIDAR</button>

        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                <span class="alert-message {{ category }}">{{ message }}</span>
                {% endfor %}
            {% endif %}
        {% endwith %}
    </form>
</div>
{% endblock %}